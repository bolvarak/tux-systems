///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
'use strict'; /// Strict Syntax //////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
process.env.TUX_ENVIRONMENT = (process.env.TUX_ENVIRONMENT || 'devel'); /// Environment Definition ///////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
import PowerDNS from '../Service/PowerDNS'; /// PowerDNS Service Module //////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
import {sequelize} from '../Common/Database'; /// Database Module ////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


import Configration from '../Common/Configuration';

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(async (): Promise<void> => { /// Main Event Loop ////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	// Instantiate our service
	const $powerDns: PowerDNS = new PowerDNS();
	// Log the models
	$powerDns.logger().debug(sequelize.models);
	$powerDns.logger().debug(Configration.db.modelPaths);
	// Start the service
	$powerDns.start();

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
})(); /// End Main Event Loop ////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
